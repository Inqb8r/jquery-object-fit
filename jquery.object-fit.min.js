(function(c,r,s){var h,k=[],t=function(){var d=s.createElement("modernizr").style,a="objectFit",e=a.charAt(0).toUpperCase()+a.slice(1),e=(a+" "+["Webkit","Moz","O","ms"].join(e+" ")+e).split(" "),c;for(c in e)if(a=e[c],~(""+a).indexOf("-")&&void 0!==d[a])return"pfx"==prefixed?a:!0;return!1},q=function(d,a){function e(a,d){var b=d?a:a.parent(),c=b.css("display");return"block"==c||"-webkit-box"==c&&0<b.width()?{obj:b,width:b.width(),height:b.height(),ratio:b.width()/b.height()}:e(b)}var l="string"===typeof a?a:a.type,h=void 0===a.hideOverflow?!0:a.hideOverflow,m=void 0===a.parentElem?null:a.parentElem;k.push({elem:d,params:{type:l,hideOverflow:h,parentElem:m}});var g=c(d),f,b=m?e(c(m),!0):e(g),n,p;c("<img/>").load(function(){n=this.width;p=this.height;f=n/p;if("contain"===l)b.ratio>f?g.width(b.height*f):g.height(b.width/f).width("100%");else if("cover"===l){if(b.width>n||b.height>p)b.ratio>f?g.width(b.width).height(b.height*f):g.height(b.height).width(b.width*f);h&&b.obj.css("overflow","hidden")}}).attr("src",g.attr("src"))};c.fn.objectFit=function(d){d=d||"contain";var a=t();return this.each(function(){a?c(this).css("object-fit",d):q(this,d)})};c(r).resize(function(){clearTimeout(h);for(var d=0,a=k.length;d<a;d++){var c=k[d];h=setTimeout(function(){q(c.elem,c.params)},100)}})})(jQuery,window,document);